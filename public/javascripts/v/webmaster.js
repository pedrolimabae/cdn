Id("dhtyhr67uj")&&Id("dhtyhr67uj").addEventListener("change",function(){location.href=this.value}),$webmasterNews=function(){var e={};return{confirmDeleteAccount:function(t){e._id=t.getAttribute("data-id"),infoBlog("Excluir conta","Você tem certeza que deseja excluir este blog e todo o seu conteúdo permanentemente?",{fc:"$webmasterNews.deleteAccount",nameOne:"Excluir"})},deleteAccount:function(t){$ajax.post("/webmaster/notifications/deleteAccount",{_id:e._id},function(t){t.data&&Id("ete4te_"+e._id).remove()},t)},del:function(e){var t=e.getAttribute("data-id");e.className=__loadClass+" xdfgdf",$ajax.post("/webmaster/notifications/del",{_id:t},function(t){t.del?e.parentElement.parentElement.parentElement.remove():e.className="fa fa-trash xdfgdf getFc opc_trs"})},deleteAll:function(e){e.children[0].className=__loadClass,$ajax.post("/webmaster/notifications/delAll",{},function(t){t.data?(Id("rdte45ws").innerHTML="",Id("efsrte5y5tggdt").innerHTML='<div class="srgtdsr"><p>Notificações</p><span>Nenhuma nova notificação</span></div>'):e.children[0].className="fa fa-trash"})}}}(),$webmaster=function(){var e={};return{confirmCreate:function(){infoBlog("Criar dados",t(),{fc:"$webmaster.create",nameOne:"Sim"})},create:function(e){var t=Id("dataCreate").value;if(!t)return infoBlog("Criar Dados","Informe um array para criar dados");$ajax.post("/webmaster/settings/create",{data:t,collection:a(),host:n()},function(){},e)},confirmFind:function(){infoBlog("Procurar dados",t(),{fc:"$webmaster.find",nameOne:"Sim"})},find:function(e){var t=Id("query").value;if(!t)return infoBlog("Query vazia","Por favor, informe a sua query");$ajax.post("/webmaster/settings/find",{query:t,collection:a(),host:n()},function(e){e&&e.data&&e.data.length?infoBlog("Dados encontrados",'<textarea style="height:400px">'+JSON.stringify(e.data)+"</textarea>"):infoBlog("Nada encontrado","Nenhum dado encontrado com esta pergunta, tente outra")},e)},confirmUpdate:function(){infoBlog("Atualizar dados",t(),{fc:"$webmaster.update",nameOne:"Sim"})},update:function(e){var t=Id("queryUpdate").value,o=Id("dataUpdate").value;return t?o?void $ajax.post("/webmaster/settings/update",{query:t,update:o,collection:a(),host:n()},function(){},e):infoBlog("Update vazio","Informe os dados em array para serem salvos"):infoBlog("Query vazia","Informe uma query para atualizar um item")},confirmDelete:function(){infoBlog("Excluir dados",t(),{fc:"$webmaster.delete",nameOne:"Sim"})},delete:function(e){var t=Id("queryDelete").value;if(!t)return infoBlog("Query vazia","Por favor, informe a sua query");$ajax.post("/webmaster/settings/delete",{query:t,collection:a(),host:n()},function(){},e)},confirmSendNews:function(){infoBlog("Enviar Notificação","Você tem certeza que deseja enviar esta notificação?",{fc:"$webmaster.sendNewsUser",nameOne:"Sim"})},sendNewsUser:function(e){var t=Id("email"),a=Id("messageUser");$load.start(e),$ajax.post("/webmaster/settings/sendnews",{email:t.value,message:a.value},function(e){e.data&&(address.value="",a.value="")})},newsite:function(e){$ajax.post("/webmaster/newsite",{url:Id("domain").value,cpc:Id("cpc").value,ctr:Id("ctr").value,cpmAdsense:Id("cpmAdsense").value,cpmAudience:Id("cpmAudience").value,redactor:Id("redactor").value},function(){},e)},updateSite:function(e){var t=e.getAttribute("data-id"),a=Id("drtgd_"+t);if(!a)return infoBlog();var n=a.getElementsByTagName("input")[0],o=a.getElementsByTagName("input")[1],r=a.getElementsByTagName("input")[2],i=a.getElementsByTagName("input")[3],s=a.getElementsByTagName("input")[4];$ajax.post("/webmaster/updatesite/"+t,{cpc:n.value,ctr:o.value,cpmAdsense:r.value,cpmAudience:i.value,redactor:s.value},function(){},e)},sendNews:function(t){e.email=t.getAttribute("data-email"),infoBlog("Enviar mensagem",'Informe a mensagem abaixo:<br><br><textarea placeholder="mensagem" style="height:120px" id="dtyhdtyhe566"></textarea><br><br><span class="drtdtr8 getFc" data-fc="$webmaster.setSendEmail" data-active="1" id="setByEmail"><i class="fa fa-check-square-o"></i>Enviar por email também</span>',{nameOne:"Enviar",fc:"$webmaster.sendNewsUserPay"})},setSendEmail:function(e){1==e.getAttribute("data-active")?(e.setAttribute("data-active",0),e.children[0].className="fa fa-square"):(e.setAttribute("data-active",1),e.children[0].className="fa fa-check-square")},sendNewsUserPay:function(t){$ajax.post("/webmaster/settings/sendnews",{email:e.email,message:Id("dtyhdtyhe566").value,setByEmail:Id("setByEmail").getAttribute("data-active")},function(){},t)},confirmBanUser:function(e){infoBlog("Banir usuário","Você tem certeza que deseja banir este usuário?",{nameOne:"Sim",fc:"$webmaster.banUser"})},banUser:function(e){if(!Id("emailUserBan").value)return infoBlog("Email vazio","Informe o email do usuário");$ajax.post("/webmaster/ban",{email:Id("emailUserBan").value},function(){})},plusUsers:function(e){e.innerHTML="Aguarde...",e.setAttribute("disabled","disabled"),$ajax.post("/webmaster/earnings/plus/"+e.getAttribute("data-where"),{_id:e.getAttribute("data-lastuser")},function(t){if(t&&t.users)return function(e,t){var a="";e.forEach(function(e){a+='<tr><td><a href="/webmaster/user/'+e._id+'">'+e.name+"</a></td><td>"+(e.v_day?e.v_day:"")+"</td><td>"+(e.v_lastDay?e.v_lastDay:"")+"</td><td>"+(e.v_weak?e.v_weak:"")+"</td><td>"+(e.v_month?e.v_month:"")+"</td><td>"+(e.v_lastMonth?e.v_lastMonth:"")+"</td><td>"+(e.m_day?e.m_day:"")+"</td><td>"+(e.m_lastDay?e.m_lastDay:"")+"</td><td>"+(e.m_weak?e.m_weak:"")+"</td><td>"+(e.m_month?e.m_month:"")+"</td><td>"+(e.m_lastMonth?e.m_lastMonth:"")+"</td></tr>"}),e.length>9?(t.setAttribute("data-lastuser",e[9]._id),t.removeAttribute("disabled"),t.innerHTML="Carregar mais usuários"):t.remove();Id("drtgdrt").innerHTML+=a,newTime()}(t.users,e)})},confirmDelSite:function(t){e.domain=t.getAttribute("data-domain"),e.btn=t,infoBlog("Excluir site","Se você excluir este site e se alguêm encurtou uma url de algum artigo dele, não recebera mais pelos clicks.<br><br>Você tem certeza que deseja excluir este site?",{nameOne:"sim",fc:"$webmaster.delSite"})},delSite:function(t){$ajax.post("/webmaster/deletesite",{domain:e.domain},function(t){t&&t.data&&e.btn.parentElement.remove()})}};function t(){return'<br><br><input type="text" id="hostDb" placeholder="informe o host do usuário" value="host1">',"</p></div><br><p>Qualquer alteração incorreta poderá ocasionar erros no sistema.<br><br>Você tem certeza que deseja fazer isto?</p>",'Informe em que collection Você deseja fazer isto<br><br><div class="drtdrt"><select id="collectionsDb"><option value="users">Usuários</option><option value="posts">Posts</option><option value="notifications">Notificações</option><option value="sites">Sites</option><option value="Links">Links</option><option value="webmaster">Webmaster</option></select></div><br><br><p>Informe abaixo o host em que Você deseja fazer esta alteração<div class="drtdrt"><br><br><input type="text" id="hostDb" placeholder="informe o host do usuário" value="host1"></p></div><br><p>Qualquer alteração incorreta poderá ocasionar erros no sistema.<br><br>Você tem certeza que deseja fazer isto?</p>'}function a(){var e=Id("collectionsDb").value;if(!e)throw infoBlog();return e}function n(){return Id("hostDb").value}}(),$cpm=function(){return{pay:function(e){var t=Id("dateSearch").value;$ajax.post("/webmaster/cpm"+(t?"?q="+t:""),function(){var e=Id("cpmP").value,t=Id("cpmR").value;if(!e)throw infoBlog("Cpm vazio","Informe o cpm do Publisher");if(!t)throw infoBlog("Cpm vazio","Informe o cpm do Redator");return{cpmR:t,cpmP:e}}(),function(e){if(e&&e.reload)return location.reload()},e)}}}(),$editors=function(){var e={};return{add:function(e){$ajax.post("/webmaster/editors/add",{email:Id("emailEditors").value},function(e){if(e&&e.reload)return location.reload()},e)},remove:function(t){e._id=t.getAttribute("data-id"),infoBlog("Remover Redator","Você tem certeza que deseja remover este redator?",{nameOne:"sim",fc:"$editors.removeList"})},removeList:function(t){$ajax.post("/webmaster/editors/remove",{_id:e._id},function(e){if(e&&e.reload)return location.reload()},t)}}}(),$adms=function(){var e={};return{add:function(e){$ajax.post("/webmaster/adms/add",{email:Id("emailAdms").value},function(e){if(e&&e.reload)return location.reload()},e)},remove:function(t){e._id=t.getAttribute("data-id"),infoBlog("Remover Adm","Você tem certeza que deseja remover este Admin?",{nameOne:"sim",fc:"$adms.removeList"})},removeList:function(t){$ajax.post("/webmaster/adms/remove",{_id:e._id},function(e){if(e&&e.reload)return location.reload()},t)}}}(),$category=function(){var e={};return{add:function(e){$ajax.post("/webmaster/category/add",{name:Id("nameCategory").value},function(e){if(e&&e.data)return setTimeout(function(){location.reload()},1e3)},e)},remove:function(t){e._id=t.getAttribute("data-id"),infoBlog("Remover Categoria","Você tem certeza que deseja remover esta categoria?",{nameOne:"sim",fc:"$category.removeList"})},removeList:function(t){$ajax.post("/webmaster/category/remove",{_id:e._id},function(e){if(e&&e.data)return setTimeout(function(){location.reload()},1e3)},t)}}}(),$active=function(){var e,t;return{confirmActive:function(a){e=a.getAttribute("data-id"),t=a,infoBlog("Ativar conta","Você tem certeza que deseja ativar está conta?",{nameOne:"Sim",fc:"$active.active"})},active:function(a){$ajax.post("/webmaster/users/active/",{_id:e},function(e){e&&e.data&&t.parentElement.parentElement.remove()},a)},confirmDel:function(a){e=a.getAttribute("data-id"),t=a,infoBlog("Excluir conta","Você tem certeza que deseja Excluir está conta?",{nameOne:"Sim",fc:"$active.del"})},del:function(a){$ajax.post("/webmaster/users/active/del",{_id:e},function(e){e&&e.data&&t.parentElement.parentElement.remove()},a)}}}(),$users=function(){var e,t;return{confirmDel:function(a){e=a.getAttribute("data-id"),t=a,infoBlog("Excluir conta","Você tem certeza que deseja Excluir está conta e todo conteúdo relacionado a ela?",{nameOne:"Sim",fc:"$users.del"})},del:function(a){$ajax.post("/webmaster/users/del",{_id:e},function(e){e&&e.data&&t.parentElement.parentElement.remove()},a)},plus:function(e){$ajax.get("/webmaster/users/plus?_id="+e.getAttribute("data-id")+"&type=ajax",function(t){if(t&&t.users)return function(t){var a="";t.forEach(function(e){a+='<tr><td><a href="'+mb.url+"/webmaster/user/"+e._id+'">'+e.name+"</a></td><td>"+(e.deposit?"Depósito bancário":e.paypal?"PayPal":"Não adicionado")+"</td><td>"+e.lastAccess+"</td><td>"+e.dateRegistered+'</td><td><a href="#" class="getFc" data-fc="$users.confirmDel" data-id="'+e._id+'">Excluir</a></td></tr>'}),Id("drtgdrt").innerHTML+=a,20==t.length?e.setAttribute("data-id",t[19]._id):e.remove();newTime()}(t.users)},e)}}}(),$links=function(){var e={};return{confirmDel:function(t){e._id=t.getAttribute("data-id"),e.btn=t,infoBlog("Excluir Link","Se você excluir este link o usuário não tera mais lucros com ele.<br><br>Você tem certeza que deseja excluir este site?",{nameOne:"sim",fc:"$links.delLink"})},delLink:function(t){$ajax.post("/webmaster/links/del",{_id:e._id},function(t){t&&t.data&&e.btn.parentElement.parentElement.remove()},t)},confirmDelAll:function(t){e.btn=t,infoBlog("Excluir Todos Link","Você tem certeza que deseja excluir todos os links cadastrados na plataforma?",{nameOne:"sim",fc:"$links.delAll"})},delAll:function(e){$ajax.post("/webmaster/links/delAll",{},function(e){e&&e.reload&&location.reload()},e)}}}(),$pay=function(){var e={};return{viewDeposit:function(e){var t="<strong>Nome</strong>      "+e.getAttribute("data-nameaccount")+"<br><br>";t+="<strong>CPF</strong>          "+e.getAttribute("data-cpf")+"<br><br>",t+="<strong>Banco</strong>        "+e.getAttribute("data-bank")+"<br><br>",t+="<strong>Agência</strong>      "+e.getAttribute("data-numagency")+"<strong> Dígito </strong>"+e.getAttribute("data-digagency")+"<br><br>",t+="<strong>Número</strong>       "+e.getAttribute("data-numaccount")+"<strong> Dígito </strong>"+e.getAttribute("data-digaccount")+"<br><br>",t+="<strong>Conta</strong>        "+e.getAttribute("data-typeaccount")+"<br><br>",infoBlog("Dados bancários de "+e.getAttribute("data-nameaccount"),t)},pay:function(t){e._id=t.getAttribute("data-id"),e.btn=t;var a=t.getAttribute("data-value"),n=t.getAttribute("data-type");"deposit"==n?(infoBlog("Pagar Usuário",'Preencha as informações abaixo:<br><br>Informe a taxa de Transferência<br><br><input type="text" placeholder="Tacha de Transferência" class="input" id="taxaCambio" value="10"><br><br><strong id="drtgdte5te"></strong><br><br><input type="file" placeholder="Comprovante" id="filePay"><br><br>Você tem certeza que deseja pagar este usuário via depósito bancário?',{nameOne:"Pagar",fc:"$pay.sendPay"}),Id("drtgdte5te").innerHTML="Valor a pagar: "+parseFloat((a-10).toFixed(2)),Id("taxaCambio").addEventListener("input",function(){Id("drtgdte5te").innerHTML="Valor a pagar: "+parseFloat((a-this.value).toFixed(2))})):"paypal"==n?infoBlog("Pagar Usuário","Valor a pagar via PayPal:<br><br><b>R$"+parseFloat(a).toFixed(2)+'</b><br><br><input type="file" placeholder="Comprovante" id="filePay"><br><br>Você tem certeza que deseja pagar este usuário via payPal?',{nameOne:"Pagar",fc:"$pay.sendPay"}):infoBlog("Pagar usuário","Este usuário não informou a sua forma de pagamento")},sendPay:function(t){var a=location.pathname,n=Id("filePay").files[0];if(n)return function(){var o=new FormData;o.set("file",n),o.set("_id",e._id);var r=location.search,i=a+"/upload"+(r||"");Id("exchangeTax")&&o.set("exchangeTax",Id("exchangeTax").value);$ajax.upload(i,o,function(t){t&&t.data&&e.btn.parentElement.parentElement.remove()},t)}();$ajax.post(a,{_id:e._id,exchangeTax:Id("taxaCambio")?Id("taxaCambio").value:null},function(t){t&&t.data&&e.btn.parentElement.parentElement.remove()},t)},confirmAccumulate:function(t){e._id=t.getAttribute("data-id"),e.btn=t,infoBlog("Acumular pagamento","Você tem certeza que deseja acumular o pagamento deste usuário?",{nameOne:"Sim",fc:"$pay.accumulate"})},accumulate:function(t){$ajax.post("/webmaster/monthlypayment/accumulated/",{_id:e._id},function(t){t&&t.data&&e.btn.parentElement.parentElement.remove()},t)},confirmRemoveWeak:function(t){e._id=t.getAttribute("data-id"),e.btn=t,infoBlog("Remover usuário","Você tem certeza que não deseja pagar este usuário?",{nameOne:"Sim",fc:"$pay.removeWeak"})},removeWeak:function(t){$ajax.post("/webmaster/weeklypayment/remove",{_id:e._id},function(t){t&&t.data&&e.btn.parentElement.parentElement.remove()},t)}}}(),$firewall=function(){var e,t,a,n=0;return{setOption:function(e){var t=e.value;if("ip"==t)return Id("drtrghtyf").innerHTML='<input class="drtgdtrg" type="text" placeholder="IP" id="ip"><input class="rgdrgtr" type="text" placeholder="Nota" id="nota"><select class="rdgdtrghth" id="status"><option value="403">403</option><option value="404">404</option><option value="400">400</option></select><button class="btn drgdtrght getFc" data-fc="$firewall.saveIp">Bloquear</button>',void newTime();if("countries"==t)return function(){html='<select class="drtgdtrg" id="countrie"><option>Escolha um país</option>',countries.forEach(function(e){html+='<option value="'+e.code+'">'+e.name+"</option>"}),html+='</select><input class="rgdrgtr" type="text" placeholder="Nota" id="nota"><select class="rdgdtrghth" id="status"><option value="403">403</option><option value="404">404</option><option value="400">400</option></select><button class="btn drgdtrght getFc" data-fc="$firewall.saveCountrie">Bloquear</button>',Id("drtrghtyf").innerHTML=html,0==n&&(n=1,infoBlog("Use com moderação",'Recomendamos que você bloqueie determinado país caso você note algo estranho nos <a href="'+mb.url+'/webmaster/logs">logs do sistema</a><br><br>Bloquear países ocasionará um pequeno atraso na resposta do sistema.'));newTime()}()},saveIp:function(e){var t=function(){if(!Id("ip").value)throw infoBlog("IP Vazio","Informe um IP para adicionar a sua lista de bloqueio");return{ip:Id("ip").value,nota:Id("nota").value,status:Id("status").value}}();$ajax.post("/webmaster/firewall/",t,function(e){if(e&&e.data){var a='<div class="tgd5tye56y6 drgdtrgty"><span class="dgdrtgdtr">'+t.ip+'</span><span class="rgdgdrttrd">'+t.nota+'</span><span class="sgdgdtr dg5ge5g">'+t.status+'</span><span class="hftyhftyftyh"><i class="fa fa-close getFc" data-fc="$firewall.confirmDel" data-ip="'+t.ip+'"></i></span></div>';Id("rtgdtgt").innerHTML+=a,o()}},e)},saveCountrie:function(e){data=function(){if(!Id("countrie").value)throw infoBlog("País Vazio","Informe um país para adicionar a sua lista de bloqueio");return{countrie:Id("countrie").value,nota:Id("nota").value,status:Id("status").value}}(),$ajax.post("/webmaster/firewall/countrie",data,function(e){if(e&&e.data){var t='<div class="tgd5tye56y6 drgdtrgty"><span class="dgdrtgdtr">'+e.data.countrie+'</span><span class="rgdgdrttrd">'+data.nota+'</span><span class="sgdgdtr dg5ge5g">'+data.status+'</span><span class="hftyhftyftyh"><i class="fa fa-close getFc" data-fc="$firewall.confirmDel" data-countriename="'+e.data.countrie+'"></i></span></div>';Id("rtgdtgt").innerHTML+=t,o()}},e)},confirmDel:function(n){e=n.getAttribute("data-ip"),t=n.getAttribute("data-countrie");var o=n.getAttribute("data-countriename");a=n,infoBlog("Remover "+(e?"IP":"País"),"Você tem certeza que deseja remover o "+(e?"IP <b>"+e+"</b>":"País <b>"+o+"</b>")+"</b> da sua lista de bloqueio?",{nameOne:"sim",fc:"$firewall.removeList"})},removeList:function(n){var o={};e&&(o.ip=e),t&&(o.countrie=t),$ajax.post("/webmaster/firewall/del",o,function(e){e&&e.data&&a&&a.parentElement.parentElement.remove()},n)}};function o(){Id("ip")&&(Id("ip").value=""),Id("countrie")&&(Id("countrie").value="Escolha um país"),Id("nota").value="",Id("status").value="403"}}(),$logs=function(){var e,t;return{plus:function(a){var n=a.getAttribute("data-id");e=a,t=n,$load.start(a),$ajax.get("/webmaster/logs/plus?_id="+n+"&type=ajax",function(a){if($load.stop(),a&&a.logs)return function(a){var n="";a.forEach(function(e){n+='<pre class="sgdrtgdtr"><span><b>'+e.date+"</b> - <b>"+mb.domain+' [router]</b>: <b>method</b>="'+e.method+'" <b>host</b>="'+e.host+'" <b>status</b>="'+e.status+'" <b>protocol</b>="'+e.protocol+'" <b>language</b>="'+e._language+'" <b>time</b>="'+e.time+'ms" <b>ip</b>="'+e.ip+'" <b>type</b>="'+e.type+'" <b>agent</b>="'+e.agent+'" <b>path</b>="'+e.path+'"</span></pre>'}),""==n?(Id("rgdtrgdtrg")&&Id("rgdtrgdtrg").remove(),n+='<p class="btn rgtrtdtg" id="rgdtrgdtrg">Não há mais logs para mostrar, tente daqui a pouco!</p>'):Id("rgdtrgdtrg")&&Id("rgdtrgdtrg").remove();n+='<button class="btn cgdtrgdt getFc" data-fc="$logs.plus" data-id="'+(a.length?a[a.length-1]._id:t)+'">Atualizar</button>',e.remove(),Id("drtgdtrgdtr").innerHTML+=n,newTime(),Id("rgdtrgdtrg")&&setTimeout(function(){Id("rgdtrgdtrg").remove()},5e3)}(a.logs)},a)},confirmDel:function(e){infoBlog("Excluir logs","Você tem certeza que deseja excluir os logs do sistema?",{nameOne:"Sim",fc:"$logs.delLogs"})},delLogs:function(e){$ajax.post("/webmaster/logs/del",{},function(e){if(e&&e.reload)return location.reload()},e)}}}(),createnotification=function(e){$ajax.post("/webmaster/createnotification",{msg:Id("alert").value,color:Id("color").value,background:Id("background").value},function(){},e)},$others={confirmNewPassword:function(){infoBlog("Alterar senha","Você tem certeza que deseja fazer isso?",{nameOne:"Sim",fc:"$others.newPassUser"})},newPassUser:function(e){$ajax.post("/webmaster/others/password",{email:Id("emailNewPassword").value,password:Id("newPasswordUser").value},function(){},e)}};